# syntax=docker/dockerfile:1

FROM node:22-alpine
WORKDIR /repo
RUN corepack enable

COPY pnpm-workspace.yaml package.json pnpm-lock.yaml ./
COPY apps/worker/package.json apps/worker/package.json
RUN pnpm install --frozen-lockfile

COPY apps/worker ./apps/worker

CMD ["pnpm", "-C", "apps/worker", "dev"]
