# syntax=docker/dockerfile:1

FROM node:22-alpine
WORKDIR /repo
RUN corepack enable

COPY pnpm-workspace.yaml package.json pnpm-lock.yaml ./
COPY apps/web/package.json apps/web/package.json
RUN pnpm install --frozen-lockfile

COPY apps/web ./apps/web

EXPOSE 4011
CMD ["pnpm", "-C", "apps/web", "dev", "--webpack", "--port", "4011", "--hostname", "0.0.0.0"]
